{"ast":null,"code":"import { EmbedEvent } from '../types';\nexport function getViewPropsAndListeners(props) {\n  return Object.keys(props).reduce((accu, key) => {\n    if (key.startsWith('on')) {\n      const eventName = key.substr(2);\n      accu.listeners[EmbedEvent[eventName]] = props[key];\n    } else {\n      accu.viewConfig[key] = props[key];\n    }\n\n    return accu;\n  }, {\n    viewConfig: {},\n    listeners: {}\n  });\n}","map":{"version":3,"sources":["C:\\Users\\NathanSchroeder\\Documents\\Dev\\IntegrationEnvironment\\frontend\\node_modules\\@thoughtspot\\visual-embed-sdk\\src\\react\\util.ts"],"names":[],"mappings":"AAAA,SAAS,UAAT,QAA4C,UAA5C;AAeA,OAAM,SAAU,wBAAV,CAA+E,KAA/E,EAAuF;AACzF,SAAO,MAAM,CAAC,IAAP,CAAY,KAAZ,EAAmB,MAAnB,CACH,CAAC,IAAD,EAAO,GAAP,KAAc;AACV,QAAI,GAAG,CAAC,UAAJ,CAAe,IAAf,CAAJ,EAA0B;AACtB,YAAM,SAAS,GAAG,GAAG,CAAC,MAAJ,CAAW,CAAX,CAAlB;AACA,MAAA,IAAI,CAAC,SAAL,CAAe,UAAU,CAAC,SAAD,CAAzB,IAAwC,KAAK,CAAC,GAAD,CAA7C;AACH,KAHD,MAGO;AACH,MAAA,IAAI,CAAC,UAAL,CAAgB,GAAhB,IAAuB,KAAK,CAAC,GAAD,CAA5B;AACH;;AACD,WAAO,IAAP;AACH,GATE,EAUH;AACI,IAAA,UAAU,EAAE,EADhB;AAEI,IAAA,SAAS,EAAE;AAFf,GAVG,CAAP;AAeH","sourcesContent":["import { EmbedEvent, MessageCallback } from '../types';\nimport { ViewConfig } from '../embed/ts-embed';\n\n// eslint-disable-next-line prettier/prettier\nexport type EmbedEventHandlers = { [key in EmbedEvent as `on${Capitalize<key>}`]?: MessageCallback };\n\nexport interface EmbedProps extends ViewConfig, EmbedEventHandlers {\n    className?: string;\n}\n\nexport interface ViewConfigAndListeners<T extends ViewConfig> {\n    viewConfig: T;\n    listeners: { [key in EmbedEvent]?: MessageCallback };\n}\n\nexport function getViewPropsAndListeners<T extends EmbedProps, U extends ViewConfig>(props: T): ViewConfigAndListeners<U> {\n    return Object.keys(props).reduce(\n        (accu, key) => {\n            if (key.startsWith('on')) {\n                const eventName = key.substr(2);\n                accu.listeners[EmbedEvent[eventName]] = props[key];\n            } else {\n                accu.viewConfig[key] = props[key];\n            }\n            return accu;\n        },\n        {\n            viewConfig: {} as U,\n            listeners: {},\n        },\n    );\n}"]},"metadata":{},"sourceType":"module"}